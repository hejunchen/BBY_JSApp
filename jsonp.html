<!DOCTYPE html>
<html>
<head lang="en">

    <meta charset="UTF-8">
    <title></title>

    <script src="lib/jquery-2.1.0.min.js"></script>

    <script src="lib/angular/angular.min.js"></script>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28/angular.min.js"></script>-->

    <script>

        var app = angular.module("BBPApp", []);

        app.controller("BBPController", ['$scope',function($scope){

            $scope.results = '';

            $scope.SetResults = function(data){
                console.log('SetResults called');
                console.log(data);
                $scope.results = data;
            }

        }]);

    </script>


</head>


<body>



    <!--<div id="divData" style="display:none;">-->
    <!--</div>-->

    <div id="divData" ng-app="BBPApp" ng-controller="BBPController">
        {{ results | json }}
    </div>

    <script>
        function myCallback(data){

            //document.getElementById('divData').innerHTML = JSON.stringify(data);

            window.onload = function () {
                angular.element(document.getElementById('divData')).scope().SetResults(data);
            }

        }
    </script>
    <script type="text/javascript" src="http://www.bestbuy.ca/api/v2/json/category/Departments?callback=myCallback"></script>


</body>
</html>























